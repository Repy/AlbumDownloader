<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Album Downloader</title>
</head>
<body>
<form>facebook(Album ID): <input type="text" name="id" value=""><input type="submit" value="Go"></form>
<div id="photos"></div>
<script>
var Param = function(str){
	var sp = str.split("&");
	var map = {};
	for(var i = 0; i < sp.length; i++){
		var kv = sp[i].split("=");
		map[kv.shift()]=kv.join("=");
	}
	return map;
}
var PGet = function(id,after){
	FB.api('/'+id+'/photos','GET',{"fields":"images","after":after},function(response) {if (response && !response.error) {
		for (var i = 0; i < response.data.length; i++) {
			var max = {"width": 1, "height": 1};
			for (var j = 0; j < response.data[i].images.length; j++) {
				var po = response.data[i].images[j];
				console.log(po);
				if (max.width*max.height<po.width*po.height) {
					max=po;
				}
			}
			var img = document.createElement("img");
			img.src = max.source;
			img.style = "width:120px";
			document.getElementById("photos").appendChild(img);
		}
		if(response.paging.cursors.after){
			PGet(id,response.paging.cursors.after)
		}
	}});
};
window.fbAsyncInit = function(){
	var param = Param(document.location.search.substring(1));
	FB.init({
		appId: '392502744280434',
		xfbml: false,
		version: 'v2.9'
	});
	FB.getLoginStatus(function(response){
		PGet(param.id);
	});
};
(function(d, id){
	if (d.getElementById(id)) return;
	var js = d.createElement('script');
	js.id = id;
	js.src = "//connect.facebook.net/ja_JP/sdk.js";
	d.body.insertBefore(js, d.body.firstChild);
}(document, 'facebook-jssdk'));
</script>
</body>
</html> 
